<!DOCTYPE html>
<html lang="en" class="scrollbar-rounded" data-theme="<%= current_theme || 'corporate' %>">
  <head>
    <%= render "layouts/head" %>
  </head>
  <body>
    <%= render "layouts/flash_messages" %>
    <div class="drawer lg:drawer-open">
      <input id="sidebar-drawer" type="checkbox" class="drawer-toggle" />
      
      <div class="drawer-content flex flex-col min-h-screen bg-base-200">
        <%# Render the AppHeaderComponent, passing current_user and breadcrumbs (if set) %>
        <%= render(AppHeaderComponent.new(current_user: current_user, breadcrumbs: @breadcrumbs || [])) %>
        
        <main class="flex-1">
          <div class="container mx-auto px-6 py-8 md:px-8 md:py-10">
            <%= yield %>
          </div>
        </main>
        
        <%= render(FooterComponent.new) %>
      </div>
      
      <%= render(SidebarComponent.new(current_user: current_user)) %>
    </div>
    
    <%= render "layouts/analytics" %>
  </body>
</html>
